<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Blog posts by {{ site.author }} on DevOps, cloud infrastructure, CI/CD, and developer tooling.">
    <meta name="author" content="{{ site.author }}">
    <meta name="theme-color" content="#0a0f1a">
    <link rel="canonical" href="{{ site.url }}/blog/">

    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ site.url }}/blog/">
    <meta property="og:title" content="Blog | {{ site.author }}">
    <meta property="og:description" content="Blog posts on DevOps, cloud infrastructure, CI/CD, and developer tooling.">
    <meta property="og:site_name" content="{{ site.author }}">
    <meta property="og:image" content="{{ site.url }}/assets/og-image.png">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Blog | {{ site.author }}">
    <meta name="twitter:description" content="Blog posts on DevOps, cloud infrastructure, CI/CD, and developer tooling.">
    <meta name="twitter:image" content="{{ site.url }}/assets/og-image.png">

    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <title>Blog | {{ site.author }}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/global.css">
    <link rel="stylesheet" href="/blog/css/styles.css">
</head>
<body>
    <canvas class="grid-canvas" id="gridCanvas"></canvas>
    <div class="mobile-dots"></div>
    <div class="blog-container">
        <a href="/" class="back-link">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
            Back to Home
        </a>

        <div class="blog-header">
            <h1>{{ title }}</h1>
            <p>{{ description }}</p>
        </div>

        <div class="blog-toolbar">
            <div class="blog-search">
                <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
                <input type="text" id="blogSearch" placeholder="Search posts..." autocomplete="off">
            </div>
            <div class="blog-view-toggle">
                <button class="view-btn active" id="gridViewBtn" aria-label="Grid view">
                    <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/></svg>
                </button>
                <button class="view-btn" id="listViewBtn" aria-label="List view">
                    <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>
                </button>
            </div>
        </div>

        <p class="blog-no-results" id="blogNoResults">No posts found.</p>

        <div class="post-list" id="postList">
            {% for post in collections.posts %}
            <a href="{{ post.url }}" class="post-card" data-title="{{ post.data.title | lower }}" data-description="{{ post.data.description | lower }}" data-tags="{{ post.data.tags | join(',') | lower }}">
                <span class="post-card-date">{{ post.date | dateFormat }}</span>
                <h2>{{ post.data.title }}</h2>
                <p>{{ post.data.description }}</p>
                <div class="post-card-tags">
                    {% for tag in post.data.tags %}
                    <span>{{ tag }}</span>
                    {% endfor %}
                </div>
                <span class="post-card-read">{{ post.data.readTime }}</span>
            </a>
            {% endfor %}
        </div>
    </div>
    <script src="/assets/js/grid-background.js"></script>
    <script>
    (function() {
        var searchInput = document.getElementById('blogSearch');
        var postList = document.getElementById('postList');
        var cards = postList.querySelectorAll('.post-card');
        var noResults = document.getElementById('blogNoResults');
        var gridBtn = document.getElementById('gridViewBtn');
        var listBtn = document.getElementById('listViewBtn');

        searchInput.addEventListener('input', function() {
            var query = this.value.toLowerCase().trim();
            var visible = 0;
            cards.forEach(function(card) {
                var title = card.getAttribute('data-title');
                var desc = card.getAttribute('data-description');
                var tags = card.getAttribute('data-tags');
                var match = !query || title.indexOf(query) !== -1 || desc.indexOf(query) !== -1 || tags.indexOf(query) !== -1;
                card.style.display = match ? '' : 'none';
                if (match) visible++;
            });
            noResults.style.display = visible === 0 ? 'block' : 'none';
        });

        gridBtn.addEventListener('click', function() {
            postList.classList.remove('list-view');
            gridBtn.classList.add('active');
            listBtn.classList.remove('active');
        });

        listBtn.addEventListener('click', function() {
            postList.classList.add('list-view');
            listBtn.classList.add('active');
            gridBtn.classList.remove('active');
        });
    })();
    </script>
</body>
</html>
